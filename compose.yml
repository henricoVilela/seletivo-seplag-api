services:
  seplag-api:
    build: .
    image: seplag-api:0.0.1-SNAPSHOT
    restart: unless-stopped
    ports:
      - "8081:8081"
    environment:
      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres_db:5432/seplag
      - MINIO_ENDPOINT=http://localhost
    container_name: seplag-api
    hostname: seplag-api
    networks:
      - seplag-network
    depends_on:
      - postgres_db
      - minio
    
include:
  - ./postgres/compose.yml
  - ./minio/compose.yml
  
networks:
  seplag-network:
    driver: bridge
